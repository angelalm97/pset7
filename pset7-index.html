<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>PSET7 D3 Visualization Webpage</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.1.1/d3.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,500" rel="stylesheet">

<style>

body {
		background-color: #fff;
		margin: 10px;
		border: 5px solid green;
	}

		text-styling {
			font-size: 14px;
			font-family: 'Open Sans', sans-serif;
			font-weight: 300;
		}

			label-styling {
				font-size: 14px;
				font-family: 'Open Sans', sans-serif;
				font-weight: 300;
			}

			title-styling {
				font-family: 'Open Sans', sans-serif;
				font-size: 18 px;
				font-weight: 500;
			}


			h1 {
				font-family: "Open Sans" , sans-serif;
				font-size: 24px;
				color: green;
			}

			p1 {
				font-family: "Open Sans" , sans-serif;
				font-size: 14px;
			}



</style>



</head>
<body>
						<main role="main" class="container" >

						<div class="row">
								<div class="col-12">
									<br> <br>
									<h1>Visualizing Agricultural land</h1>
						</div>
						</div>

						<div class="row">
						     	<div class="col-5">
										<p1> Hi. In this visualization we are trying to learn D3 and formate graphs correctly. I have found it very challenging to complete the p-setand learn everything as I go. The class I am in is Big Data, Visualization and Society. My name is Angela Loescher-Montal.
										</p1>
						</div>

						<div class="row">
									<div class="col-7">
										<div id="viz"></div>
						</div>
						</div>


        </main>
		<script>
            const agriculturedata = [
                ["Brazil", 33.9],
                ["Canada", 6.9],
                ["Costa Rica", 34.5],
                ["Denmark", 62],
                ["Fiji", 23.3],
                ["France", 52.4],
                ["Greenland", .6],
                ["Italy", 43.2],
                ["Mali",33.8],
                ["Netherlands",53.3]
            ];

			const width = 1200;
			const height = 1000;
            const marginLeft = 150;
            const marginTop = 80;
            const barHeight = 30;
            const widthMultiplier = 6;
            const gap = 5;

            // define svg
			const svg = d3.select("#viz")
                .append("svg")
                .attr("width", width)
                .attr("height", height);

            // add rectangle bars
            svg.append("g")
                .attr("class", "rect-bars")
            .selectAll("rect")
                .data(agriculturedata)
                .enter()
                .append("rect")
                    .attr("y", (d, i) => i * (barHeight + gap) + marginTop)
                    .attr("x", 0 + marginLeft)
                    .attr("width", d => d[1] * widthMultiplier)
                    .attr("height", 30)
                    .attr("fill", "green")
										.attr("opacity", 0.7);


				svg.append("g")
							.attr("class", "labels")
				.selectAll("text")
						.data(agriculturedata)
						.enter()
						.append("text")
						.attr("class","label")
						.attr("x", 30)
						.attr("y", (d, i) => i * (barHeight + gap) + marginTop + 20)
						.classed("text-styling", true)
						.text(d => d[0])
						.attr("text-anchor", "right")
						;

				svg.append("g")
									.attr("class", "labels")
						.selectAll("text")
								.data(agriculturedata)
								.enter()
								.append("text")
									.attr("x", d => d[1] * widthMultiplier + marginLeft + 2)
									.attr("y", (d, i) => i * (barHeight + gap) + marginTop + 20)
									.classed("label-styling", true)
									.text(d => d[1] + "%");


			svg.append("g")
						.attr("class", "title")
				.selectAll("text")
								.data(agriculturedata)
								.enter()

				.append("text")
						      .attr("x", 0 + marginLeft)
						      .attr("y",marginTop/2)
						      .attr("text-anchor", "center")
									.classed("title-styling", true)
									.text("Proportion of Agricultural Land in 2016");

		</script>
	</body>
</html>
